<!DOCTYPE html>

<html>
	<head>
		<script src="../test-and-report.js"></script>
		<link rel="stylesheet" type="text/css" href="../style.css" />
	</head>
	<body>
		<ul id="results"></ul>
		<ul id="reports"></ul>
		<script>
			function Ninja() {
			
				this.skulk = function() {
					return this;
				};
				
				return 1;
			
			}
			
			assert(Ninja() === 1,
					"Return value honored when not called as a constructor");
			
			var ninja = new Ninja();
			
			assert(typeof ninja === "object",
					"Object returned when called as a constructor");
			
			assert(typeof ninja.skulk === "function",
					"ninja object has a skulk method");
			
			assert(ninja.skulk() === ninja,
					"ninja is the context of skulk method");
			
			var puppet = {
				rules: false
			};
			
			function Emperor() {
			
				this.rules = true;
				return puppet;
			
			}
			
			var emperor = new Emperor();
			
			assert(emperor === puppet,
					"The emperor is merely a puppet!");
			
			assert(!emperor.rules,
					"The puppet does not know how to rule!");
		</script>
	</body>
</html>
